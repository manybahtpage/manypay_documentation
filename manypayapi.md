# ManyPay Documentation

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ManyPay API

---

## ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà API URL

```
‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
```

---

## üìå ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API

### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á QR ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô

**‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏ó‡∏µ‡πà:** `POST /createpayment`

> **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**
> - ‚úÖ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ `referenceNo` ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏´‡∏≤‡∏Å QR ‡πÇ‡∏Ñ‡πâ‡∏î **‡∏¢‡∏±‡∏á‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à**
> - ‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡πÉ‡∏ä‡πâ `referenceNo` ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏´‡∏≤‡∏Å QR ‡πÇ‡∏Ñ‡πâ‡∏î **‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß**

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á (Body ‡πÄ‡∏õ‡πá‡∏ô Json):**
```json
{
  "token": "xxx",                              // ‡πÇ‡∏ó‡πÄ‡∏Ñ‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏≤‡∏ó
  "amount": "1",                               // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞
  "referenceNo": "12345abcdxxxxxx",            // Ref **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç 6 ‡∏ï‡∏±‡∏ß‡∏´‡∏•‡∏±‡∏á‡∏™‡∏∏‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏≤‡∏ó‡πÑ‡∏î‡πâ‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏ß‡πâ", ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏ï‡∏±‡∏ß‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  "verifykey": "someencryptedmessage",         // (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Webhook ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤ (‡∏ó‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Webhook ‡πÄ‡∏≠‡∏á), ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏ô 150 ‡∏ï‡∏±‡∏ß
  "etc1": "otherinfo1",                        // (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô ‡πÜ 1
  "etc2": "otherinfo2",                        // (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô ‡πÜ 2
  "etc3": "otherinfo3",                        // (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô ‡πÜ 3
  "etc4": "otherinfo4",                        // (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô ‡πÜ 4
  "backgroundUrl": "https://example.com/test"  // (‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô) ‡∏•‡∏¥‡∏á‡∏Å‡πå URL ‡πÑ‡∏ß‡πâ‡∏™‡πà‡∏á Webhook, ‡∏ó‡∏≤‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß
}
```

**‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö (Body ‡πÄ‡∏õ‡πá‡∏ô Json) code 200:**
```json
{
  "ffpReferenceNo": "someffpref",
  "referenceNo": "12345abcdxxxxxx",
  "qrcode": "xxxxxx", // ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏≥‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô QR ‡πÇ‡∏Ñ‡πâ‡∏î
  "resultCode": "00",
  "resultMessage": "Success"
}
```

**Webhook ‡∏´‡∏•‡∏±‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß (‡∏™‡πà‡∏á POST ‡πÄ‡∏õ‡πá‡∏ô Json ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `backgroundUrl`):**
```json
{
  "amount": 1,
  "retryFlag": "N",
  "referenceNo": "12345abcdxxxxxx",
  "ffpReferenceNo": "someffpref",
  "currencyCode": "764",
  "resultCode": "00",
  "resultMessage": null,
  "token": null,
  "totalAmount": 1,
  "fee": 0.01,
  "vat": 0.0007,
  "customerName": "mr. realname surname",
  "merchantDefined1": "someencryptedmessage", // ‡∏à‡∏≤‡∏Å verifykey
  "merchantDefined2": "otherinfo1",
  "merchantDefined3": "otherinfo2",
  "merchantDefined4": "otherinfo3",
  "merchantDefined5": "otherinfo4",
  "date": "01012025",
  "time": "000000",
  "paymentType": "Q",
  "backgroundUrlSend": "https://example.com/test"
}
```

---

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Ref

**‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏ó‡∏µ‡πà:** `POST /checkref`

**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á (Body ‡πÄ‡∏õ‡πá‡∏ô Json):**
```json
{
  "token": "xxx", // ‡πÇ‡∏ó‡πÄ‡∏Ñ‡πá‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡∏≤‡∏ó
  "ref": "12345abcdxxxxxx"
}
```

**‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö (Body ‡πÄ‡∏õ‡πá‡∏ô Json) code 200:**
```json
{
  "resultCode": "00",
  "txn": {
    "date": "01012025",
    "amountPerMonth": ".00",
    "paymentType": "Q",
    "currency": "THB",
    "merchantDefined1": "someencryptedmessage",
    "merchantDefined2": "otherinfo1",
    "merchantDefined3": "otherinfo2",
    "merchantDefined4": "otherinfo3",
    "merchantDefined5": "otherinfo4",
    "ffpReferenceNo": "someffpref",
    "amount": "1.00",
    "referenceNo": "12345abcdxxxxxx",
    "resultMessage": "Error",
    "customerName": "mr. realname surname",
    "totalAmount": "1.00",
    "authorizeCode": "000000",
    "time": "000000",
    "currencyCode": "764",
    "status": "S" // ‡∏´‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô "S" ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
  },
  "resultMessage": "Success"
}
```